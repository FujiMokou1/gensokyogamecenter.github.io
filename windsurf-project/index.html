<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gensokyo Game Center</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700;900&display=swap" rel="stylesheet">
    <link rel="icon" href="power.jpg" type="image/jpeg">
</head>
<body>
    <nav class="main-nav">
        <div class="nav-container">
            <a href="where-to-start.html" class="nav-link">Where to Start?</a>
            <a href="list-of-games.html" class="nav-link">List of Games</a>
            <a href="official-vs-fanmade.html" class="nav-link">Official or Fan-made?</a>
            <a href="terms.html" class="nav-link">Touhou Game Terminology</a>
        </div>
    </nav>
    <div class="hero">
        <div class="hero-content">
            <h1>WELCOME TO <span>GENSO&shy;KYO</span></h1>
            <p class="subtitle" style="font-size: 1.6rem;">The Touhou games may be difficult for a newcomer to get into, but it doesn't have to be!</p>
            <div class="cta-buttons">
                <img src="marimain.png" alt="Marimain" class="hero-image left">
                <button type="button" class="btn btn-primary" onclick="location.href='where-to-start.html'">Where to Start?</button>
                <button type="button" class="btn btn-secondary" onclick="location.href='list-of-games.html'">List of Games</button>
                <img src="reimain.png" alt="Reimain" class="hero-image right">
            </div>
        </div>
    </div>

    <main>
        <section class="about">
            <h2>WHAT IS TOUHOU?</h2>
            <p>Touhou Project, or just Touhou, is developed by Team Shanghai Alice, with the first game fully releasing in 1996. Despite the name, Team Shanghai Alice consists of one person, the mastermind behind Touhou, Jun'ya Ōta, most known by his pen-name, ZUN.</p>
            <img src="ZUNPlayDoujin.jpg" alt="ZUN plays fan-made games" style="max-width: 280px; width: 100%; height: auto; display: block; margin: 1rem auto;">
            <div style="text-align: center; font-size: 0.85rem; margin-top: 0.25rem;">ZUN in 2015.</div>
            <p>Touhou is a lot of things. The focus of this website is to document the official Touhou games. However, Touhou is much more than that! But it's most important to understand what separates a fan-work from an official work. <button type="button" class="btn btn-secondary" onclick="location.href='official-vs-fanmade.html'">Learn more about what makes a work official.</button></p>
        </section>
    </main>

    <audio id="bgm" src="PCBTitle Screen.mp3" preload="auto" loop></audio>
    <div id="song-toast" style="position: fixed; left: 24px; top: 64px; transform: none; background: rgba(0,0,0,0.8); color: #fff; padding: 8px 12px; border-radius: 6px; font-size: 0.9rem; z-index: 2000; opacity: 0; transition: opacity 0.3s ease; pointer-events: auto; display: inline-flex; align-items: center; gap: 8px;">Now Playing: Perfect Cherry Blossom OST- Mystic Dream ~ Snow or Cherry Petal <button id="enable-audio" style="background: rgba(255,255,255,0.15); border: 1px solid rgba(255,255,255,0.4); color: #fff; cursor: pointer; font-size: 0.85rem; line-height: 1; padding: 4px 8px; border-radius: 4px;">Enable Audio</button><button id="toast-close" aria-label="Close" style="background: transparent; border: 0; color: #fff; cursor: pointer; font-size: 1rem; line-height: 1; padding: 0 4px;">×</button></div>

    <footer>
        <p>2025. This is an unofficial fanpage not affiliated or endorsed by Team Shanghai Alice.</p>
    </footer>
    <script>
        let lastScroll = 0;
        const nav = document.querySelector('.main-nav');
        
        window.addEventListener('scroll', () => {
            const currentScroll = window.pageYOffset;
            
            if (currentScroll <= 0) {
                nav.classList.remove('hidden');
                return;
            }
            
            if (currentScroll > lastScroll && !nav.classList.contains('hidden')) {
                // Scrolling down
                nav.classList.add('hidden');
            } else if (currentScroll < lastScroll && nav.classList.contains('hidden')) {
                // Scrolling up
                nav.classList.remove('hidden');
            }
            
            lastScroll = currentScroll;
        });

        const audio = document.getElementById('bgm');
        const toast = document.getElementById('song-toast');
        const CONSENT_KEY = 'bgm_consent';
        let started = false;

        function hideToast() {
            if (!toast) return;
            toast.style.opacity = '0';
            setTimeout(() => { if (toast && toast.parentNode) toast.parentNode.removeChild(toast); }, 300);
        }

        function showToast() {
            if (!toast) return;
            toast.style.opacity = '1';
            setTimeout(() => {
                toast.style.opacity = '0';
                setTimeout(() => { if (toast && toast.parentNode) toast.parentNode.removeChild(toast); }, 300);
            }, 6000);
        }

        function positionToastBelowNav() {
            if (!toast || !nav) return;
            const offset = nav.getBoundingClientRect().height + 12; // 12px gap under nav
            toast.style.top = offset + 'px';
            toast.style.left = '24px';
        }

        function tryPlayAudio() {
            if (!audio) return;
            try { audio.autoplay = true; } catch (_) {}
            if (!started) { try { audio.currentTime = 0; } catch (_) {} }
            audio.play().then(() => {
                try { localStorage.setItem(CONSENT_KEY, '1'); } catch (_) {}
                started = true;
            }).catch(() => { /* Autoplay likely blocked; will retry on user interaction */ });
        }

        document.addEventListener('DOMContentLoaded', () => {
            showToast();
            try {
                if (localStorage.getItem(CONSENT_KEY) === '1') {
                    tryPlayAudio();
                } else {
                    tryPlayAudio();
                }
            } catch (_) {
                tryPlayAudio();
            }
            const closeBtn = document.getElementById('toast-close');
            if (closeBtn) {
                closeBtn.addEventListener('click', (e) => { e.stopPropagation(); hideToast(); });
            }
            const enableBtn = document.getElementById('enable-audio');
            if (enableBtn) {
                enableBtn.addEventListener('click', (e) => { e.stopPropagation(); tryPlayAudio(); });
            }
            positionToastBelowNav && positionToastBelowNav();
        });

        window.addEventListener('resize', positionToastBelowNav);

        const resumeOnInteract = () => {
            tryPlayAudio();
            document.removeEventListener('click', resumeOnInteract);
            document.removeEventListener('keydown', resumeOnInteract);
            document.removeEventListener('pointerdown', resumeOnInteract);
            document.removeEventListener('touchstart', resumeOnInteract);
        };
        document.addEventListener('click', resumeOnInteract, { once: true });
        document.addEventListener('keydown', resumeOnInteract, { once: true });
        document.addEventListener('pointerdown', resumeOnInteract, { once: true });
        document.addEventListener('touchstart', resumeOnInteract, { once: true });

        window.addEventListener('pageshow', () => {
            try {
                if (localStorage.getItem(CONSENT_KEY) === '1') {
                    tryPlayAudio();
                }
            } catch (_) {}
            document.addEventListener('click', resumeOnInteract, { once: true });
            document.addEventListener('keydown', resumeOnInteract, { once: true });
            document.addEventListener('pointerdown', resumeOnInteract, { once: true });
            document.addEventListener('touchstart', resumeOnInteract, { once: true });
        });

        window.addEventListener('beforeunload', () => {});
    </script>
</body>
</html>
<style>
.main-nav {
    background-color: rgba(0, 0, 0, 0.8);
    padding: 1rem 0;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    z-index: 1000;
    backdrop-filter: blur(5px);
    transform: translateY(0);
    transition: transform 0.3s ease-in-out;
}

.main-nav.hidden {
    transform: translateY(-100%);
}

.nav-container {
    max-width: 1200px;
    margin: 0 auto;
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
    gap: 1.5rem;
    padding: 0 1rem;
}

.nav-link {
    color: white;
    text-decoration: none;
    font-weight: 600;
    font-size: 1rem;
    text-transform: uppercase;
    letter-spacing: 1px;
    padding: 0.5rem 1rem;
    border-radius: 4px;
    transition: all 0.3s ease;
}

.nav-link:hover {
    background-color: rgba(255, 255, 255, 0.2);
    transform: translateY(-2px);
}

body {
    background: url('mainback.png.png') no-repeat center center fixed;
    background-size: cover;
    min-height: 100vh;
    backdrop-filter: blur(1.5px);
}

.hero-image.right {
    position: absolute;
    right: 20px;
    bottom: -80px;
    height: 195px;
    width: auto;
    object-fit: contain;
    z-index: 2;
}

.hero-image.left {
    position: absolute;
    left: 20px;
    bottom: -80px;
    height: 195px;
    width: auto;
    object-fit: contain;
    z-index: 2;
}

.cta-buttons {
    position: relative;
}

.btn {
    display: inline-block;
    padding: 0.8rem 1.5rem;
    background-color: #333;
    color: white;
    text-decoration: none;
    border: none;
    border-radius: 50px;
    font-weight: 600;
    transition: all 0.3s ease;
    cursor: pointer;
}

.btn:hover {
    background-color: #000;
    transform: translateY(-2px);
}
</style>